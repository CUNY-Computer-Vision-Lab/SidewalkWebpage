# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET     /                           @controllers.ApplicationController.index
GET     /about                      @controllers.ApplicationController.about

# User authentication
GET     /signIn                     @controllers.UserController.signIn(url: String ?= "/")
GET     /signUp                     @controllers.UserController.signUp(url: String ?= "/")
GET     /signOut                    @controllers.UserController.signOut(url: String ?="/")
POST    /authenticate/credentials   @controllers.CredentialsAuthController.authenticate(url: String ?= "/")
POST    /signUp                     @controllers.SignUpController.signUp(url: String ?= "/")

# Auditing tasks
GET     /audit                      @controllers.TaskController.audit
GET     /audit/task                 @controllers.TaskController.getTask
GET     /audit/task/next            @controllers.TaskController.getNextTask(streetEdgeId: Int, lat: Float, lng: Float)
GET     /audit/task/nextInRegion    @controllers.TaskController.getTaskInRegion(regionId: Int)
GET     /audit/task/region/:id      @controllers.TaskController.auditRegion(id: Int)
GET     /audit/task/street/:id      @controllers.TaskController.auditStreet(id: Int)
POST    /audit/task                 @controllers.TaskController.post
POST    /audit/comment              @controllers.TaskController.postComment
POST    /audit/nostreetview         @controllers.TaskController.postNoStreetView

# Map Edit
GET     /map/edit                   @controllers.MapController.edit

# User status
# /:username has to come last in the list. Otherwise it eats other urls.
GET     /contribution/streets       @controllers.UserProfileController.getAuditedStreets
GET     /contribution/labels        @controllers.UserProfileController.getSubmittedLabels
GET     /contribution/audits        @controllers.UserProfileController.getAuditTaskInteractions
GET     /contribution/previousAudit @controllers.UserProfileController.previousAudit
GET     /contribution/:username     @controllers.UserProfileController.userProfile(username: String)

# Geometry API
GET     /geometry/neighborhoods     controllers.RegionController.listNeighborhoods
GET     /geometry/streets           controllers.StreetController.getStreets(minLat: Double ?= 38.761, minLng: Double ?= -77.262, maxLat: Double ?= 38.928567, maxLng: Double ?= -76.830)
GET     /geometry/join/:limit       controllers.StreetController.join(limit: Int)
GET     /geometry/select            controllers.StreetController.select

GET     /api/sidewalks              controllers.SidewalkController.listSidewalks
# POST    /sidewalks                controllers.SidewalkController.createSidewalks
# PUT     /sidewalks                controllers.SidewalkController.editSidewalks
# DELETE  /sidewalks/:id            controllers.SidewalkController.removeSidewalk(id: Int)

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.at(path="/public", file)
GET     /webjars/*file              controllers.WebJarAssets.at(file)
