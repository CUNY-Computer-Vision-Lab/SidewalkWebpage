@import models.user.User
@import models.mission.{MissionTable, Mission}
@import play.api.libs.json.Json
@import views.html.bootstrap._

@(title: String, user: Option[User] = None, mission: Mission)

@main(title, Some("/validate")) {
    @navbar(user, Some("/validate"))

    <script type="text/javascript" src='@routes.Assets.at("assets/detectMobileBrowser.js")'></script>
    <script type="text/javascript" src='@routes.Assets.at("javascripts/SVValidate/build/SVValidate.js")'></script>
    <script type="text/javascript" src='@routes.Assets.at("javascripts/SVLabel/lib/gsv/zpipe.min.js")'></script>
    <script type="text/javascript" src='@routes.Assets.at("javascripts/SVLabel/lib/gsv/jquery.base64.min.js")'></script>
    <script type="text/javascript" src='@routes.Assets.at("javascripts/SVLabel/lib/kinetic-v4.3.3.min.js")'></script>
    <script type="text/javascript" src='@routes.Assets.at("assets/detectUnsupportedBrowser.js")'></script>

    <!-- TODO: Clean up CSS - start moving all non-header/footer stuff to SVValidate -->
    <link rel="stylesheet" href='@routes.Assets.at("javascripts/SVValidate/build/SVValidate.css")'/>
    <link rel="stylesheet" href='@routes.Assets.at("javascripts/SVLabel/build/SVLabel.css")'/>
    <link rel="stylesheet" href='@routes.Assets.at("stylesheets/animate.css")'/>
    <div id="page-loading"><img id="loading-gif" src='@routes.Assets.at("assets/page-load.gif")'/></div>
    <div class="container toolUI" style = "visibility: visible;">
        <div id="svv-application-holder">
            <div id="upper-menu-holder">
                <!-- rename to something better... probably will hold information -->
                <div id="upper-menu-title-bar"></div>
            </div>
            <div id="svv-panorama-holder">
                <div id="svv-panorama-outline">
                    <div id="svv-panorama">

                    </div>
                </div>
            </div>
            <div id="status-holder">
                <div class="status-box">
                    <h1 class="status-holder-header-1">Current Neighborhood</h1>
                    <h2><span id="status-holder-neighborhood-name"></span>Default Neighborhood</h2>
                    <div class="status-row">
                        <span class="status-column-half">
                            <img src='@routes.Assets.at("javascripts/SVLabel/img/icons/Sidewalk/Icon_Other.png")' class="status-icon" alt="Total label count" align="">
                            <span><span class="bold" id="status-neighborhood-label-count">0</span> <small>labels</small></span>
                        </span>
                    </div>
                </div>
                <div class="status-box">
                    <h1>Current Mission</h1>
                    <h2 id="current-mission-description"></h2>
                </div>
                <div class="status-box">
                    <h1 class="status-holder-header-1" id="label-type-example">Missing Curb Ramp</h1>
                    <div id="example-image-holder"></div>
                </div>
                <div class="status-box">
                    <h1 class="status-holder-header-2" id="label-type-counterexample"><i>NOT</i> a Missing Curb Ramp</h1>
                    <div id="example-image-holder"></div>
                </div>
            </div>
            <div id="mission-status-holder"></div>
            <div id="validation-button-holder">
                <button id="validation-agree-button" class="validation-button">
                    <img src='@routes.Assets.at("javascripts/SVValidate/img/Checkmark.png")' class="validation-status-icon" alt="Agree" align="">
                    Agree
                </button>
                <button id="validation-disagree-button" class="validation-button">
                    <img src='@routes.Assets.at("javascripts/SVValidate/img/Cross.png")' class="validation-status-icon" alt="Disagree" align="">
                    Disagree
                </button>
                <button id="validation-not-sure-button" class="validation-button">
                    <img src='@routes.Assets.at("javascripts/SVValidate/img/QuestionMark.png")' class="validation-status-icon" alt="Not sure" align="">
                    Not sure
                </button>
            </div>
        </div>
        <div id="mini-footer-audit">
            Project Sidewalk is designed and operated by the
            <a href="https://makeabilitylab.umiacs.umd.edu/">Makeability Lab</a> at the
            <a href="http://www.umd.edu/">University of Maryland</a> and
            <a href="http://www.uw.edu/" id="umd-link">University of Washington</a><br>
            <span id="application-version"></span>
        </div>
    </div>


    <script type="text/javascript">
        // init();
        var svv = svv || {};
        var param = {};

        param.dataStoreUrl = '@routes.ValidationTaskController.post';
        param.mission = @Html(mission.toJSON.toString);

        svv.main = new Main(param);
    </script>

}